[Work] Produce Low Memory Killer situation on purpose!!
[課題] Low Memory Killer を意図的に発生させたい
<ja>
  Androidは、ヒープが涸渇すると、使われていないアプリをKillする機能があります。
  KyoroStressV2では、意図的にのこの現象を発生させるアプリです。

     おおまかな仕組みは、単純にたくさんヒープを使用してあげるだけです。
     なので、byte配列でもガバッととってあげれば、それだけで済むだけに思えます。

    しかし、ひとつのアプリ(プロセス)が取得できるヒープの量は制限がされています。
    このため、ただ単純にヒープを大量に消費するアプリを作れば良いとはならないのです。

    また、当然ではありますが、このヒープを大量に消費しているアプリも、PFからKILLさせる対象ですから。
   殺される事を前提としなければならません。

   では、KyoroStressV2/V1での解決方法を解説します。
</ja>
<en>

</en>

[KyoroTextでの解決方法]
 　KyoroStressでは、「 複数のServiceを、各々別プロセスで立つあげる。各々Serviceでヒープを大量に消費する。」という方法をとっています。
    こうすることで、最初にあげた問題が解決できます。  

   -(松) ひとつのアプリで消費できるヒープが制限されているため、ひとつのアプリで端末のヒープが涸渇しててる状態をつくれない。
   -(竹) ヒープを涸渇しているアプリがPFにKILLされる場合がある。
   といった問題がありました。
  　(松)については、複数のプロセスを立ち上げれば、プロセス×ひとつのアプリで取得可能なヒープのサイズだけ取得できます。
  (竹)についても、生きているプロセスが殺されているプロセスの分もヒープを消費すればよいのです。
   という感じにうまく解決できます。


[技術的な課題]
 - Serviceごとに、別プロセスにする方法は？
 - アプリが使用可能なヒープを調べる方法は？
 - Low Memory 状態を取得する方法は？
 - 制限を越えてヒープを取得する方法？



[参考]
- Androidでのヒープ不足について
  LinuxでOOMが発生する。 特定のリソースが不足する。Javaヒープが不足する。 ひとつのアプリが取得できるヒープが不足する。
  　と、ヒープ不足には、さまざまな種類があります。

  KyoroStressで扱おうとしているのは、Low Memory Killerです。


OOMが発生する前に、優先度が
KyoroStress2の機能の一つとして、Low Memoey Killerを発生させて、


